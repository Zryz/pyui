
#Define the structure for custom fonts to be used as Title objects.

"""
    Font Sources are a dictionary housing the various elements of a font.

    Each library is a collection of Specials, Numeric, Upper and Lower characters from 0-9, a-z, A-Z etc... 

    You can specify a 'default_width' for all chars and overide them individually with 'widths'
    The functions can then use these to programatically build ASCII font characters
    
    @special_chars - this houses what special keys have been provided and are directly relayed and not programatically generated
    @numeric - contains numbers
    """

FONT_TEMPLATE = {'special_chars':"""""",'special':{'':''},'upper':{'gap':0,'default_width':0, 'widths':{'I':3},'content':" "},'numeric':{'gap':0,'default_width':0,'widths':{'0':9,'1':4},'content':" "}}

BLOCK_ALPHABET = {'special_chars':""" .,'-()!?'""",'special':{' ':'   \n   ','.':"  \n▄ ",',':"  \n█ ",'-':"   \n▀▀ ",'(':'▄▀ \n▀▄ ',')':'▀▄ \n▄▀ ','!':'█ \n▄ ','?':'▄▀▄ \n ▄▀ '},'numeric':{'gap':1,'default_width':2,'widths':{'0':3, '3':3, '8':3},'content':"█▀█ ▄█ ▀█ ▀██ █▄ █▄ █▀ ▀█ █▄█ █\n█▄█  █ █▄ ▄▄█  █ ▄█ ██  █ █▄█ ▄█"},'upper':{'gap':1,'default_width':3, 'widths':{'I': 1,'F':2, 'N':4, 'M':5, 'W':5},'content':"▄▀▄ ██▄ ▄▀▀ █▀▄ ██▀ █▀ ▄▀  █▄█ █   █ █▄▀ █   █▄ ▄█ █▄ █ ▄▀▄ █▀▄ ▄▀▄ █▀▄ ▄▀▀ ▀█▀ █ █ █ █ █   █ ▀▄▀ ▀▄▀ ▀█\n█▀█ █▄█ ▀▄▄ █▄▀ █▄▄ █▀ ▀▄█ █ █ █ ▀▄█ █ █ █▄▄ █ ▀ █ █ ▀█ ▀▄▀ █▀  ▀▄█ █▀▄ ▄██  █  ▀▄█ ▀▄▀ ▀▄▀▄▀ █ █  █  █▄▄"}}
BLACK_7 = {'special_chars':""" .,?!()#""",'special':{' ':'    \n    \n    \n    \n    \n    ', '.':'   \n   \n   \n   \n██╗\n╚═╝',',':'   \n   \n   \n   \n▄█╗\n╚═╝','!':'██╗\n██║\n██║\n╚═╝\n██╗\n╚═╝','(':' ██╗\n██╔╝\n██║ \n██║ \n╚██╗\n ╚═╝',')':'██╗ \n╚██╗\n ██║\n ██║\n██╔╝\n╚═╝ ', '?':'██████╗ \n╚════██╗\n  ▄███╔╝\n  ▀▀══╝ \n  ██╗   \n  ╚═╝   ', '#':' ██╗ ██╗ \n████████╗\n╚██╔═██╔╝\n████████╗\n╚██╔═██╔╝\n ╚═╝ ╚═╝ '},'upper':{'gap':0,'default_width':8, 'widths':{'I':3,'G':9,'M':11,'N':10,'O':9,'Q':9,'T':9,'U':9,'V':9,'W':10,'Y':9},'content':" █████╗ ██████╗  ██████╗██████╗ ███████╗███████╗ ██████╗ ██╗  ██╗██╗     ██╗██╗  ██╗██╗     ███╗   ███╗███╗   ██╗ ██████╗ ██████╗  ██████╗ ██████╗ ███████╗████████╗██╗   ██╗██╗   ██╗██╗    ██╗██╗  ██╗██╗   ██╗███████╗\n██╔══██╗██╔══██╗██╔════╝██╔══██╗██╔════╝██╔════╝██╔════╝ ██║  ██║██║     ██║██║ ██╔╝██║     ████╗ ████║████╗  ██║██╔═══██╗██╔══██╗██╔═══██╗██╔══██╗██╔════╝╚══██╔══╝██║   ██║██║   ██║██║    ██║╚██╗██╔╝╚██╗ ██╔╝╚══███╔╝\n███████║██████╔╝██║     ██║  ██║█████╗  █████╗  ██║  ███╗███████║██║     ██║█████╔╝ ██║     ██╔████╔██║██╔██╗ ██║██║   ██║██████╔╝██║   ██║██████╔╝███████╗   ██║   ██║   ██║██║   ██║██║ █╗ ██║ ╚███╔╝  ╚████╔╝   ███╔╝ \n██╔══██║██╔══██╗██║     ██║  ██║██╔══╝  ██╔══╝  ██║   ██║██╔══██║██║██   ██║██╔═██╗ ██║     ██║╚██╔╝██║██║╚██╗██║██║   ██║██╔═══╝ ██║▄▄ ██║██╔══██╗╚════██║   ██║   ██║   ██║╚██╗ ██╔╝██║███╗██║ ██╔██╗   ╚██╔╝   ███╔╝  \n██║  ██║██████╔╝╚██████╗██████╔╝███████╗██║     ╚██████╔╝██║  ██║██║╚█████╔╝██║  ██╗███████╗██║ ╚═╝ ██║██║ ╚████║╚██████╔╝██║     ╚██████╔╝██║  ██║███████║   ██║   ╚██████╔╝ ╚████╔╝ ╚███╔███╔╝██╔╝ ██╗   ██║   ███████╗\n╚═╝  ╚═╝╚═════╝  ╚═════╝╚═════╝ ╚══════╝╚═╝      ╚═════╝ ╚═╝  ╚═╝╚═╝ ╚════╝ ╚═╝  ╚═╝╚══════╝╚═╝     ╚═╝╚═╝  ╚═══╝ ╚═════╝ ╚═╝      ╚══▀▀═╝ ╚═╝  ╚═╝╚══════╝   ╚═╝    ╚═════╝   ╚═══╝   ╚══╝╚══╝ ╚═╝  ╚═╝   ╚═╝   ╚══════╝"},'numeric':{'gap':0,'default_width':8,'widths':{'0':9,'1':4,'6':9},'content':" ██████╗  ██╗██████╗ ██████╗ ██╗  ██╗███████╗ ██████╗ ███████╗ █████╗  █████╗ \n██╔═████╗███║╚════██╗╚════██╗██║  ██║██╔════╝██╔════╝ ╚════██║██╔══██╗██╔══██╗\n██║██╔██║╚██║ █████╔╝ █████╔╝███████║███████╗███████╗    ██╔╝ ╚█████╔╝╚██████║\n████╔╝██║ ██║██╔═══╝  ╚═══██╗╚════██║╚════██║██╔═══██╗  ██╔╝  ██╔══██╗ ╚═══██║\n╚██████╔╝ ██║███████╗██████╔╝     ██║███████║╚██████╔╝  ██║   ╚█████╔╝ █████╔╝\n ╚═════╝  ╚═╝╚══════╝╚═════╝      ╚═╝╚══════╝ ╚═════╝   ╚═╝    ╚════╝  ╚════╝ "}}
TINY = {'special_chars':""" .,'?""",'special':{' ':'  \n  \n  ','.':"  \n  \no ",',':'  \n  \n/ ',"'":'/ \n  \n  ','?':'_ \n )\no '},'numeric':{'gap':1,'default_width':4,'widths':{'1':2, '2':3, '3':3, '5':3, '7':3},'content':"  __     __  __        __  __  ___  __   __  \n /  \ /|  _)  _) |__| |_  /__    / (__) (__\ \n \__/  | /__ __)    | __) \__)  /  (__)  __/ "}, 'upper':{'gap':0,'default_width':4, 'widths':{'C':3,'E':3,'F':3,'I':1,'J':2,'L':3,'S':3,'T':3,'X':2,'Y':3,'Z':3}, 'content':"     __  __ __  __ __ __                        __  __  __  __  _____                 ___\n /\ |__)/  |  \|_ |_ / _ |__||  ||_/|  |\/||\ |/  \|__)/  \|__)(_  | /  \\\\  /|  |\/\_/ _/\n/--\|__)\__|__/|__|  \__)|  ||(_)| \|__|  || \|\__/|   \_\/| \ __) | \__/ \/ |/\|/\ | /__"},'lower':{'gap':0,'default_width':3, 'widths':{'f':2,'i':1,'j':1,'k':2,'l':1,'r':2,'s':2,'t':2,'v':2,'w':4,'x':2,'y':2,'z':2},'content':"                _                                               \n _ |_  _  _| _ (_ _ |_ oo| | _  _  _  _  _  _ _|_             _ \n(_||_)(_ (_|(-`| (_)| )|||<||||| )(_)|_)(_|| _)|_|_|\/\/\/><\//_\n                 _/     /            |    |                 /   "}}
TOY_BLOCKS = {'special_chars':""" """,'special':{' ':'   \n   \n   \n   \n   \n   \n   \n   \n   \n   \n   '},'upper':{'gap':0,'default_width':20, 'widths':{},'content':" .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .-----------------. .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------. \n| .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. |\n| |      __      | || |   ______     | || |     ______   | || |  ________    | || |  _________   | || |  _________   | || |    ______    | || |  ____  ____  | || |     _____    | || |     _____    | || |  ___  ____   | || |   _____      | || | ____    ____ | || | ____  _____  | || |     ____     | || |   ______     | || |    ___       | || |  _______     | || |    _______   | || |  _________   | || | _____  _____ | || | ____   ____  | || | _____  _____ | || |  ____  ____  | || |  ____  ____  | || |   ________   | |\n| |     /  \     | || |  |_   _ \    | || |   .' ___  |  | || | |_   ___ `.  | || | |_   ___  |  | || | |_   ___  |  | || |  .' ___  |   | || | |_   ||   _| | || |    |_   _|   | || |    |_   _|   | || | |_  ||_  _|  | || |  |_   _|     | || ||_   \  /   _|| || ||_   \|_   _| | || |   .'    `.   | || |  |_   __ \   | || |  .'   '.     | || | |_   __ \    | || |   /  ___  |  | || | |  _   _  |  | || ||_   _||_   _|| || ||_  _| |_  _| | || ||_   _||_   _|| || | |_  _||_  _| | || | |_  _||_  _| | || |  |  __   _|  | |\n| |    / /\ \    | || |    | |_) |   | || |  / .'   \_|  | || |   | |   `. \ | || |   | |_  \_|  | || |   | |_  \_|  | || | / .'   \_|   | || |   | |__| |   | || |      | |     | || |      | |     | || |   | |_/ /    | || |    | |       | || |  |   \/   |  | || |  |   \ | |   | || |  /  .--.  \  | || |    | |__) |  | || | /  .-.  \    | || |   | |__) |   | || |  |  (__ \_|  | || | |_/ | | \_|  | || |  | |    | |  | || |  \ \   / /   | || |  | | /\ | |  | || |   \ \  / /   | || |   \ \  / /   | || |  |_/  / /    | |\n| |   / ____ \   | || |    |  __'.   | || |  | |         | || |   | |    | | | || |   |  _|  _   | || |   |  _|      | || | | |    ____  | || |   |  __  |   | || |      | |     | || |   _  | |     | || |   |  __'.    | || |    | |   _   | || |  | |\  /| |  | || |  | |\ \| |   | || |  | |    | |  | || |    |  ___/   | || | | |   | |    | || |   |  __ /    | || |   '.___`-.   | || |     | |      | || |  | '    ' |  | || |   \ \ / /    | || |  | |/  \| |  | || |    > `' <    | || |    \ \/ /    | || |     .'.' _   | |\n| | _/ /    \ \_ | || |   _| |__) |  | || |  \ `.___.'\  | || |  _| |___.' / | || |  _| |___/ |  | || |  _| |_       | || | \ `.___]  _| | || |  _| |  | |_  | || |     _| |_    | || |  | |_' |     | || |  _| |  \ \_  | || |   _| |__/ |  | || | _| |_\/_| |_ | || | _| |_\   |_  | || |  \  `--'  /  | || |   _| |_      | || | \  `-'  \_   | || |  _| |  \ \_  | || |  |`\____) |  | || |    _| |_     | || |   \ `--' /   | || |    \ ' /     | || |  |   /\   |  | || |  _/ /'`\ \_  | || |    _|  |_    | || |   _/ /__/ |  | |\n| ||____|  |____|| || |  |_______/   | || |   `._____.'  | || | |________.'  | || | |_________|  | || | |_____|      | || |  `._____.'   | || | |____||____| | || |    |_____|   | || |  `.___.'     | || | |____||____| | || |  |________|  | || ||_____||_____|| || ||_____|\____| | || |   `.____.'   | || |  |_____|     | || |  `.___.\__|  | || | |____| |___| | || |  |_______.'  | || |   |_____|    | || |    `.__.'    | || |     \_/      | || |  |__/  \__|  | || | |____||____| | || |   |______|   | || |  |________|  | |\n| |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | |\n| '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' |\n '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------' "},'numeric':{'gap':0,'default_width':20,'widths':{},'content':" .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------.  .----------------. \n| .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. || .--------------. |\n| |     ____     | || |     __       | || |    _____     | || |    ______    | || |   _    _     | || |   _______    | || |    ______    | || |   _______    | || |     ____     | || |    ______    | |\n| |   .'    '.   | || |    /  |      | || |   / ___ `.   | || |   / ____ `.  | || |  | |  | |    | || |  |  _____|   | || |  .' ____ \   | || |  |  ___  |   | || |   .' __ '.   | || |  .' ____ '.  | |\n| |  |  .--.  |  | || |    `| |      | || |  |_/___) |   | || |   `'  __) |  | || |  | |__| |_   | || |  | |____     | || |  | |____\_|  | || |  |_/  / /    | || |   | (__) |   | || |  | (____) |  | |\n| |  | |    | |  | || |     | |      | || |   .'____.'   | || |   _  |__ '.  | || |  |____   _|  | || |  '_.____''.  | || |  | '____`'.  | || |      / /     | || |   .`____'.   | || |  '_.____. |  | |\n| |  |  `--'  |  | || |    _| |_     | || |  / /____     | || |  | \____) |  | || |      _| |_   | || |  | \____) |  | || |  | (____) |  | || |     / /      | || |  | (____) |  | || |  | \____| |  | |\n| |   '.____.'   | || |   |_____|    | || |  |_______|   | || |   \______.'  | || |     |_____|  | || |   \______.'  | || |  '.______.'  | || |    /_/       | || |  `.______.'  | || |   \______,'  | |\n| |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | || |              | |\n| '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' || '--------------' |\n '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------'  '----------------' "}}

 #Font typically have a common width, defined as default_width - outliers can be defined within the 'widths' indivdually. 

def get_ascii_width(char, source):
    char, library = determine_library(char, source)
    content = source[library]
    if char not in content['widths']: width = content['default_width']
    else: width = content['widths'][char]
    return width

def get_ascii_height(source):
    return source['special'][' '].count('\n')+1

def get_word_width(word, source):
    return sum([get_ascii_width(x, source) for x in word])

def determine_library(char, source)->tuple:
    # Determine from font source the nature of the character and ammend where needed
    char_lower, has_lower, library = char.islower(), source.get('lower'), 'upper'
    if char.isdigit(): library = 'numeric'
    elif not has_lower and char_lower: char = char.upper()
    elif has_lower and char_lower: library = 'lower'
    return char, library

#Special = Returned directly
#Numeric = Generated (due to complexities of layers)
#Alpha = Determine whether font supports given case and select correct library

def generate_ascii_letter(char:str, source:str=None)->str:
    """Here we can write text and convert it into ASCII when a Font Source is provided"""
    
    # Specials characters are store preformed and don't need programtic assembly
    if char in source['special_chars']: return source['special'][char].split('\n')

    # Determine from font source the nature of the character and ammend where needed
    char, library = determine_library(char, source)

    # We need to set a content_index marker based on the relative positive away from the first character in the library
    # We can iterate across the range from ord 0 -> ord (chr) where 65 would be 'A' - 97 -> 'a' etc...
    # Then if we take the sum of this we get our content index
    if library == 'upper':
        content_index = sum([get_ascii_width(chr(x), source) + source[library]['gap'] for x in range(65,ord(char))])
    elif library == 'lower':
        content_index = sum([get_ascii_width(chr(x), source) + source[library]['gap'] for x in range(97,ord(char))])
    else:
        content_index = sum([get_ascii_width(chr(x), source) + source[library]['gap'] for x in range(48,ord(char))])
    
    # As the library houses A-Z, a-z e.g the total width is the first occurence of '\n' + 1
    total_width = source[library]['content'].index('\n')+1
    # total_width * the count of '\n' which represents the height of the ASCII
    net_total = total_width * get_ascii_height(source)

    width = get_ascii_width(char, source)
    # With these we can programatically generate an ASCII character
    return '\n'.join([source[library]['content'][i:i+width] + ' ' * source[library]['gap'] for i in range(content_index, net_total, total_width)])